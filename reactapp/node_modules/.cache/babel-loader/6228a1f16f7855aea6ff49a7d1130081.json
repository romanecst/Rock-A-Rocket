{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/romanecastera/lacapsule/projets/rockarocket/src/Pages/Map.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport '../App.css';\nimport { Button, InputGroup, InputGroupAddon, InputGroupText, Input, Jumbotron, Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport Navig from './Navig';\nimport jupiter from '../img/jupiter.jpg';\nimport { connect } from 'react-redux';\nimport { MapContainer, Marker, Popup, TileLayer } from \"react-leaflet\";\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet'; // delete L.Icon.Default.prototype._getIconUrl;\n// L.Icon.Default.mergeOptions({\n//     iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n//     iconUrl: require('leaflet/dist/images/marker-icon.png'),\n//     shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n// });\n\nfunction Map(props) {\n  _s();\n\n  const [tripList, setTripList] = useState([]);\n  const [tripFiltered, setTripFiltered] = useState([]);\n  const [count, setCount] = useState(0);\n  const [dropdownOpen, setDropdownOpen] = useState(false);\n\n  const toggle = () => setDropdownOpen(prevState => !prevState); // const iconPerson = new L.Icon({\n  //   iconUrl: require('../img/marker.png'),\n  //   iconRetinaUrl: require('../img/marker2x.png'),\n  //   iconAnchor: null,\n  //   popupAnchor: null,\n  //   shadowUrl: null,\n  //   shadowSize: null,\n  //   shadowAnchor: null,\n  //   iconSize: new L.Point(60, 75),\n  //   className: 'leaflet-div-icon'\n  // });\n\n\n  useEffect(() => {\n    // const L = require(\"leaflet\");\n    // delete L.Icon.Default.prototype._getIconUrl;\n    // L.Icon.Default.mergeOptions({\n    //   iconRetinaUrl: require(\"../img/marker2x.png\"),\n    //   iconUrl: require(\"./imageScreen/marker.png\"),\n    //   shadowUrl: require(\"./imageScreen/shadow.png\")\n    // });\n    console.log(props.trip);\n\n    const Search = async () => {\n      var rawResponse = await fetch(`https://launchlibrary.net/1.4/launch/${props.trip.date1}/${props.trip.date2}`);\n      var response = await rawResponse.json();\n      console.log(response);\n\n      if (response !== undefined) {\n        setTripList(response.launches);\n        setTripFiltered(response.launches);\n        setCount(response.count);\n      }\n    };\n\n    if (Object.keys(props.trip).length !== 0) {\n      Search();\n    }\n  }, []);\n  var button = {\n    backgroundColor: '#70A19D',\n    borderColor: '#8FD0CE',\n    borderWidth: '2px'\n  };\n  var bold = {\n    fontWeight: 'bold'\n  };\n  var countryList = [];\n\n  for (var a = 0; a < tripList.length; a++) {\n    if (!countryList.includes(tripList[a].location.countryCode)) {\n      countryList.push(tripList[a].location.countryCode);\n    }\n  }\n\n  var markers = tripFiltered.map(function (el, i) {\n    return /*#__PURE__*/_jsxDEV(Marker, {\n      position: [el.location.pads[0].latitude, el.location.pads[0].longitude],\n      children: /*#__PURE__*/_jsxDEV(Popup, {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: el.rocket.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 33\n        }, this), \" \", el.location.pads[0].name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 14\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      backgroundColor: 'black'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"background-map\",\n      children: /*#__PURE__*/_jsxDEV(Navig, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"display-4 text-center\",\n      style: {\n        padding: '20px',\n        color: 'white'\n      },\n      children: \"Choose Your Rocket\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#70A19D'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between align-items-center\",\n        style: {\n          width: '70%',\n          padding: '15px',\n          margin: 'auto'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-around\",\n          style: {\n            width: '40%',\n            fontSize: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: bold,\n              children: \"From:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 23\n            }, this), \" \", props.trip.location]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: bold,\n              children: \"To:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 23\n            }, this), \"  \", props.trip.destination]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-between\",\n          style: {\n            width: '35%',\n            fontSize: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: bold,\n              children: \"From:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 23\n            }, this), \"  \", props.trip.date1]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: bold,\n              children: \"To:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 23\n            }, this), \"  \", props.trip.date2]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            backgroundColor: '#54757E',\n            borderColor: '#4C6A73',\n            borderWidth: '2px'\n          },\n          children: \"Modify\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#54757E'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between\",\n        style: {\n          width: '70%',\n          fontSize: '20px',\n          padding: '15px',\n          margin: 'auto'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Dropdown, {\n          isOpen: dropdownOpen,\n          toggle: toggle,\n          children: [/*#__PURE__*/_jsxDEV(DropdownToggle, {\n            caret: true,\n            children: \"Country\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(DropdownMenu, {\n            children: [/*#__PURE__*/_jsxDEV(DropdownItem, {\n              onClick: () => {\n                setTripFiltered(tripList);\n                setCount(tripList.length);\n              },\n              children: \"Show All\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(DropdownItem, {\n              divider: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this), countryList.map(function (el, i) {\n              return /*#__PURE__*/_jsxDEV(DropdownItem, {\n                onClick: () => {\n                  var filtered = tripList.filter(elem => elem.location.countryCode == el);\n                  setTripFiltered(filtered);\n                  setCount(filtered.length);\n                },\n                children: el\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 24\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: button,\n          children: \"Filtre 2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: button,\n          children: \"Filtre 3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: button,\n          children: \"Filtre 4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(MapContainer, {\n      center: [51.505, -0.09],\n      zoom: 3,\n      scrollWheelZoom: false,\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        attribution: \"\\xA9 <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }, this), markers]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"background-map2\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center\",\n        style: {\n          padding: '20px',\n          color: 'white',\n          fontWeight: 'lighter'\n        },\n        children: [count, \" Results\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }, this), tripFiltered.map(function (el, i) {\n        return /*#__PURE__*/_jsxDEV(Jumbotron, {\n          className: \"jumbo\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            style: {\n              marginTop: '-1cm',\n              marginBottom: '0.8cm'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: jupiter,\n              className: \"col-4\",\n              style: {\n                borderRadius: '30px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"lead\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: bold,\n                  children: \"City of departure:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 37\n                }, this), \" \", el.location.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"lead\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: bold,\n                  children: \"Date of departure:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 37\n                }, this), \" \", el.net]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"lead\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: bold,\n                  children: \"Rocket name:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 37\n                }, this), \" \", el.rocket.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"lead\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: bold,\n                  children: \"Agency:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 37\n                }, this), \" \", el.lsp.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n            className: \"my-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            color: \"primary\",\n            style: {\n              marginBottom: '-1cm'\n            },\n            children: \"Book Now\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 18\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Map, \"bItuY7aL8hFHZY1ij4MOtDuR4TI=\");\n\n_c = Map;\n\nfunction mapStateToProps(state) {\n  return {\n    trip: state.trip\n  };\n}\n\nexport default connect(mapStateToProps, null)(Map);\n\nvar _c;\n\n$RefreshReg$(_c, \"Map\");","map":{"version":3,"sources":["/Users/romanecastera/lacapsule/projets/rockarocket/src/Pages/Map.js"],"names":["React","useState","useEffect","Button","InputGroup","InputGroupAddon","InputGroupText","Input","Jumbotron","Dropdown","DropdownToggle","DropdownMenu","DropdownItem","Navig","jupiter","connect","MapContainer","Marker","Popup","TileLayer","L","Map","props","tripList","setTripList","tripFiltered","setTripFiltered","count","setCount","dropdownOpen","setDropdownOpen","toggle","prevState","console","log","trip","Search","rawResponse","fetch","date1","date2","response","json","undefined","launches","Object","keys","length","button","backgroundColor","borderColor","borderWidth","bold","fontWeight","countryList","a","includes","location","countryCode","push","markers","map","el","i","pads","latitude","longitude","rocket","name","padding","color","width","margin","fontSize","destination","filtered","filter","elem","marginTop","marginBottom","borderRadius","net","lsp","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport '../App.css';\nimport {\n    Button,InputGroup, InputGroupAddon, InputGroupText, Input, Jumbotron, Dropdown, DropdownToggle, DropdownMenu, DropdownItem\n  } from 'reactstrap';\nimport Navig from './Navig';\nimport jupiter from '../img/jupiter.jpg';\nimport {connect} from 'react-redux';\nimport { MapContainer, Marker, Popup, TileLayer } from \"react-leaflet\";\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\n\n// delete L.Icon.Default.prototype._getIconUrl;\n\n// L.Icon.Default.mergeOptions({\n//     iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n//     iconUrl: require('leaflet/dist/images/marker-icon.png'),\n//     shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n// });\n\nfunction Map(props) {\n  const [tripList, setTripList] = useState([]);\n  const [tripFiltered, setTripFiltered] = useState([]);\n  const [count, setCount] = useState(0);\n  const [dropdownOpen, setDropdownOpen] = useState(false);\n\n  const toggle = () => setDropdownOpen(prevState => !prevState);\n\n  // const iconPerson = new L.Icon({\n  //   iconUrl: require('../img/marker.png'),\n  //   iconRetinaUrl: require('../img/marker2x.png'),\n  //   iconAnchor: null,\n  //   popupAnchor: null,\n  //   shadowUrl: null,\n  //   shadowSize: null,\n  //   shadowAnchor: null,\n  //   iconSize: new L.Point(60, 75),\n  //   className: 'leaflet-div-icon'\n  // });\n\n    useEffect(()=>{\n      // const L = require(\"leaflet\");\n\n    // delete L.Icon.Default.prototype._getIconUrl;\n\n    // L.Icon.Default.mergeOptions({\n    //   iconRetinaUrl: require(\"../img/marker2x.png\"),\n    //   iconUrl: require(\"./imageScreen/marker.png\"),\n    //   shadowUrl: require(\"./imageScreen/shadow.png\")\n    // });\n\n      console.log(props.trip)\n      const Search = async() => {\n        var rawResponse = await fetch(`https://launchlibrary.net/1.4/launch/${props.trip.date1}/${props.trip.date2}`);\n          var response = await rawResponse.json();\n          console.log(response);\n          if(response !== undefined){\n            setTripList(response.launches);\n            setTripFiltered(response.launches);\n            setCount(response.count);\n          }\n       }\n      if(Object.keys(props.trip).length !== 0){\n        Search();\n      }\n    },[]);\n\n    var button = {backgroundColor: '#70A19D' , borderColor: '#8FD0CE', borderWidth: '2px'};\n    var bold = {fontWeight: 'bold'};\n\n    var countryList = []\n    for(var a=0; a<tripList.length; a++){\n      if(!countryList.includes(tripList[a].location.countryCode)){\n        countryList.push(tripList[a].location.countryCode)\n      }\n    }\n\n    var markers = tripFiltered.map(function(el, i){\n      return <Marker position={[el.location.pads[0].latitude, el.location.pads[0].longitude]} >\n      <Popup>\n        <b>{el.rocket.name}</b> <br /> {el.location.pads[0].name}\n      </Popup>\n      </Marker>\n    })\n\n    return (\n        <div style={{backgroundColor: 'black'}}>\n          <div className='background-map'>\n            <Navig/>\n          </div>\n          \n          <h1 className='display-4 text-center' style={{padding: '20px', color: 'white'}}>Choose Your Rocket</h1>\n          <div style={{backgroundColor: '#70A19D'}}>\n            <div className='d-flex justify-content-between align-items-center' style={{width: '70%', padding: '15px', margin: 'auto'}}>\n              <div className='d-flex justify-content-around' style={{width: '40%', fontSize: '20px'}}>\n                <span><span style={bold}>From:</span> {props.trip.location}</span>\n                <span><span style={bold}>To:</span>  {props.trip.destination}</span>\n              </div>\n              <div className='d-flex justify-content-between' style={{width: '35%', fontSize: '20px'}}>\n                <span><span style={bold}>From:</span>  {props.trip.date1}</span>\n                <span><span style={bold}>To:</span>  {props.trip.date2}</span>\n              </div>\n              <Button style={{backgroundColor: '#54757E', borderColor: '#4C6A73', borderWidth: '2px'}}>Modify</Button>\n            </div>\n          </div>\n          <div style={{backgroundColor: '#54757E'}}>\n            <div className='d-flex justify-content-between' style={{width: '70%', fontSize: '20px',  padding: '15px', margin: 'auto'}}>\n            <Dropdown isOpen={dropdownOpen} toggle={toggle}>\n              <DropdownToggle caret>\n                Country\n                </DropdownToggle>\n              <DropdownMenu>\n              <DropdownItem onClick={()=>{\n                setTripFiltered(tripList);\n                setCount(tripList.length);\n                }}>Show All</DropdownItem>\n              <DropdownItem divider />\n                {countryList.map(function(el, i){\n                return <DropdownItem onClick={()=>{\n                  var filtered = tripList.filter(elem => elem.location.countryCode == el);\n                  setTripFiltered(filtered);\n                  setCount(filtered.length)\n                 }}>{el}</DropdownItem>\n                })}\n              </DropdownMenu>\n            </Dropdown>\n              <Button style={button}>Filtre 2</Button>\n              <Button style={button}>Filtre 3</Button>\n              <Button style={button}>Filtre 4</Button>\n            </div>\n          </div>\n\n          <MapContainer center={[51.505, -0.09]} zoom={3} scrollWheelZoom={false}>\n            <TileLayer\n              attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            />\n            {markers}\n          </MapContainer>\n\n          <div className='background-map2'>\n          <h1 className='text-center' style={{padding: '20px', color: 'white', fontWeight: 'lighter'}}>{count} Results</h1>\n            {tripFiltered.map(function(el, i){\n          return <Jumbotron key={i} className='jumbo'>\n            <div className='row' style={{marginTop: '-1cm', marginBottom: '0.8cm'}}>\n              <img src={jupiter} className='col-4' style={{borderRadius: '30px'}}/>\n              <div className='col-8'>\n                <p className=\"lead\"><span style={bold}>City of departure:</span> {el.location.name}</p>\n                <p className=\"lead\"><span style={bold}>Date of departure:</span> {el.net}</p>\n                <p className=\"lead\"><span style={bold}>Rocket name:</span> {el.rocket.name}</p>\n                <p className=\"lead\"><span style={bold}>Agency:</span> {el.lsp.name}</p>\n              </div>\n            </div>\n            <hr className=\"my-2\" />\n            <Button color=\"primary\" style={{marginBottom: '-1cm'}}>Book Now</Button>\n          </Jumbotron>\n          })\n          }\n          </div>\n\n        </div>\n    )\n}\n      \nfunction mapStateToProps(state) {\n  return { trip: state.trip }\n}\n  \nexport default connect(\n  mapStateToProps, \n  null\n)(Map);"]},"metadata":{},"sourceType":"module"}